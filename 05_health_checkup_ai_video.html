<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>ÂÅ•Â∫∑Ë®∫Êñ≠ÁµêÊûúAIÂãïÁîªËß£Ë™¨ÁîªÈù¢ - ÂÆ∂ÊóèÂÅ•Â∫∑‰ºöË≠∞„Ç∑„Çπ„ÉÜ„É†</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', Meiryo, sans-serif;
            background-color: #F9F9F9;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
        }
        
        .video-player {
            background: linear-gradient(135deg, #E3F2FD 0%, #FFFFFF 100%);
            border-radius: 12px;
            position: relative;
            height: 400px;
            overflow: hidden;
        }
        
        .ai-avatar {
            font-size: 120px;
            animation: bounce 2s infinite ease-in-out;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .ai-avatar:hover {
            transform: scale(1.1);
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        .speech-bubble {
            background: white;
            border-radius: 20px;
            padding: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
            max-width: 300px;
            animation: fadeIn 1s ease-in-out;
        }
        
        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid white;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .subtitle {
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 16px;
            border-radius: 8px;
            position: absolute;
            bottom: 80px;
            left: 16px;
            right: 16px;
            font-size: 18px;
            line-height: 1.4;
        }
        
        .progress-bar {
            background: #E5E5E5;
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: #4A90E2;
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        .chapter-card {
            border: 1px solid #E5E5E5;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .chapter-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .chapter-card.active {
            background: #E3F2FD;
            border-left: 4px solid #4A90E2;
        }
        
        .control-button {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            border: none;
            background: #4A90E2;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .control-button:hover {
            background: #357abd;
            transform: scale(1.05);
        }
        
        .badge {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            animation: scaleIn 0.5s ease-out;
            display: none;
        }
        
        @keyframes scaleIn {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .action-button {
            padding: 12px 16px;
            border-radius: 8px;
            border: none;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .script-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .script-content.expanded {
            max-height: 500px;
        }
    
        /* iOS Optimization */
        * {
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
            -webkit-touch-callout: none;
        }
        
        html {
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
        }
        
        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            -webkit-overflow-scrolling: touch;
        }
        
        button, a, input, textarea, select {
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
            -webkit-user-select: none;
            user-select: none;
        }
        
        input, textarea {
            -webkit-user-select: text;
            user-select: text;
        }
    
        :root {
            --primary-color: #4A90E2;
            --accent-color: #50C878;
            --gray-bg: #F8F9FA;
            --gray-border: #E9ECEF;
        }

        /* Footer Navigation */
        .footer-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 600px;
            background: white;
            border-top: 1px solid var(--gray-border);
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            z-index: 10;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            color: #666;
            text-decoration: none;
            font-size: 12px;
            transition: color 0.2s;
            cursor: pointer;
        }
        
        .nav-item.active {
            color: var(--primary-color);
        }
        
        .nav-item i {
            font-size: 20px;
            margin-bottom: 4px;
        }
        
        .create-btn {
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: -20px;
            box-shadow: 0 4px 12px rgba(74, 144, 226, 0.4);
            transition: all 0.3s ease;
        }
        
        .create-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(74, 144, 226, 0.5);
        }
        
        .create-btn i {
            font-size: 24px;
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- „Éò„ÉÉ„ÉÄ„Éº -->
        <div class="flex items-center p-4 bg-white border-b">
            <button class="text-2xl text-gray-600 mr-4" onclick="history.back()">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h1 class="text-2xl font-bold text-gray-800">AI„Å´„Çà„ÇãÁµêÊûúËß£Ë™¨</h1>
        </div>
        
        <!-- ÂãïÁîª„Éó„É¨„Ç§„É§„Éº„Ç®„É™„Ç¢ -->
        <div class="p-4">
            <div class="video-player mb-4">
                <div class="flex flex-col items-center justify-center h-full relative">
                    <!-- AI„Ç¢„Éê„Çø„Éº -->
                    <div class="ai-avatar mb-4" id="aiAvatar">ü§ñ</div>
                    <div class="text-xl font-bold text-gray-800 mb-4">ÂÅ•Â∫∑„Çµ„Éù„Éº„ÉàAI „Ç±„É≥„Çø</div>
                    
                    <!-- Âêπ„ÅçÂá∫„Åó -->
                    <div class="speech-bubble" id="speechBubble">
                        <p class="text-gray-800 text-base leading-relaxed" id="speechText">
                            „Åì„Çì„Å´„Å°„ÅØÔºÅ‰ªäÂπ¥„ÅÆÂÅ•Â∫∑Ë®∫Êñ≠ÁµêÊûú„Çí‰∏ÄÁ∑í„Å´Ë¶ã„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜüòä
                        </p>
                    </div>
                    
                    <!-- Â≠óÂπï -->
                    <div class="subtitle" id="subtitle" style="display: none;">
                        <div id="subtitleText">Â≠óÂπï„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô</div>
                    </div>
                </div>
                
                <!-- ÂÜçÁîü„Ç≥„É≥„Éà„É≠„Éº„É´ -->
                <div class="absolute bottom-4 left-4 right-4">
                    <div class="flex items-center gap-4 bg-white bg-opacity-90 p-3 rounded-lg">
                        <button class="control-button" id="playButton">
                            <i class="fas fa-play" id="playIcon"></i>
                        </button>
                        <div class="flex-1">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                            </div>
                            <div class="flex justify-between text-sm text-gray-600 mt-1">
                                <span id="currentTime">0:00</span>
                                <span id="duration">9:30</span>
                            </div>
                        </div>
                        <select id="speedSelect" class="text-sm bg-transparent">
                            <option value="0.75">0.75x</option>
                            <option value="1" selected>1.0x</option>
                            <option value="1.25">1.25x</option>
                            <option value="1.5">1.5x</option>
                        </select>
                        <button id="subtitleToggle" class="text-sm px-2 py-1 rounded bg-gray-200">Â≠óÂπï</button>
                    </div>
                </div>
            </div>
            
            <!-- „ÉÅ„É£„Éó„Çø„Éº„É™„Çπ„Éà -->
            <div class="mb-6">
                <h2 class="text-xl font-bold mb-4 text-gray-800">üìö Ëß£Ë™¨ÂãïÁîª„ÅÆÂÜÖÂÆπ</h2>
                
                <div class="chapter-card active" data-chapter="1">
                    <div class="flex items-center gap-4">
                        <div class="text-4xl">‚úÖ</div>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-gray-800">1. ‰ªäÂπ¥„ÅÆÂÅ•Â∫∑Ë®∫Êñ≠ Á∑èÂêàË©ï‰æ°</h3>
                            <p class="text-sm text-gray-600 mb-2">ÂÖ®‰ΩìÁöÑ„Å™ÁµêÊûú„Å®ËâØ„Åã„Å£„ÅüÁÇπ„Å´„Å§„ÅÑ„Å¶</p>
                            <div class="flex items-center gap-4">
                                <span class="text-sm text-gray-500">2ÂàÜ00Áßí</span>
                                <span class="text-sm text-blue-600 font-bold">‚ñ∂Ô∏è ÂÜçÁîü‰∏≠</span>
                            </div>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600" onclick="addMemo(1)">
                            <i class="fas fa-sticky-note"></i>
                        </button>
                    </div>
                </div>
                
                <div class="chapter-card" data-chapter="2">
                    <div class="flex items-center gap-4">
                        <div class="text-4xl">üç¨</div>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-gray-800">2. Ë°ÄÁ≥ñÂÄ§„Å´„Å§„ÅÑ„Å¶</h3>
                            <p class="text-sm text-gray-600 mb-2">„ÇÑ„ÇÑÈ´ò„ÇÅ„ÅÆÁêÜÁî±„Å®ÊîπÂñÑÊñπÊ≥ï</p>
                            <div class="flex items-center gap-4">
                                <span class="text-sm text-gray-500">3ÂàÜ15Áßí</span>
                                <span class="text-sm text-gray-400">Êú™ÂÜçÁîü</span>
                            </div>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600" onclick="addMemo(2)">
                            <i class="fas fa-sticky-note"></i>
                        </button>
                    </div>
                </div>
                
                <div class="chapter-card" data-chapter="3">
                    <div class="flex items-center gap-4">
                        <div class="text-4xl">üí™</div>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-gray-800">3. „Åä„Åô„Åô„ÇÅ„ÅÆÊîπÂñÑÊñπÊ≥ï</h3>
                            <p class="text-sm text-gray-600 mb-2">ÁÑ°ÁêÜ„Å™„ÅèÁ∂ö„Åë„Çâ„Çå„ÇãÂÅ•Â∫∑ÁøíÊÖ£</p>
                            <div class="flex items-center gap-4">
                                <span class="text-sm text-gray-500">2ÂàÜ30Áßí</span>
                                <span class="text-sm text-gray-400">Êú™ÂÜçÁîü</span>
                            </div>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600" onclick="addMemo(3)">
                            <i class="fas fa-sticky-note"></i>
                        </button>
                    </div>
                </div>
                
                <div class="chapter-card" data-chapter="4">
                    <div class="flex items-center gap-4">
                        <div class="text-4xl">ü§ù</div>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-gray-800">4. ÂÆ∂Êóè„Å´„Çµ„Éù„Éº„Éà„Åó„Å¶„ÇÇ„Çâ„ÅÑ„Åü„ÅÑ„Åì„Å®</h3>
                            <p class="text-sm text-gray-600 mb-2">ÂÆ∂Êóè„Å®‰∏ÄÁ∑í„Å´Âèñ„ÇäÁµÑ„ÇÄ„Éù„Ç§„É≥„Éà</p>
                            <div class="flex items-center gap-4">
                                <span class="text-sm text-gray-500">1ÂàÜ45Áßí</span>
                                <span class="text-sm text-gray-400">Êú™ÂÜçÁîü</span>
                            </div>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600" onclick="addMemo(4)">
                            <i class="fas fa-sticky-note"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Ëß£Ë™¨„ÉÜ„Ç≠„Çπ„Éà -->
            <div class="mb-6">
                <button class="flex items-center gap-2 text-lg font-bold text-gray-800 mb-4" onclick="toggleScript()">
                    üìù Ëß£Ë™¨„ÅÆÂÖ®Êñá„ÇíË™≠„ÇÄ
                    <i class="fas fa-chevron-down" id="scriptToggleIcon"></i>
                </button>
                <div class="script-content" id="scriptContent">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-bold mb-3">„ÄêÁ∑èÂêàË©ï‰æ°„Äë</h4>
                        <p class="mb-3">„Åì„Çì„Å´„Å°„ÅØÔºÅ‰ªäÂπ¥„ÅÆÂÅ•Â∫∑Ë®∫Êñ≠ÁµêÊûú„ÇíË¶ã„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>
                        <p class="mb-3">„Åæ„ÅöÂÖ®‰ΩìÁöÑ„Å™Ë©ï‰æ°„Åß„Åô„Åå„ÄÅ„Å®„Å¶„ÇÇËâØÂ•Ω„Åß„ÅôÔºÅÂ§ß„Åç„Å™ÂïèÈ°å„ÅØË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÅÆ„Åß„ÄÅÂÆâÂøÉ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„Å≠„ÄÇ</p>
                        <p class="mb-3">Ë°ÄÂúß„ÄÅ„Ç≥„É¨„Çπ„ÉÜ„É≠„Éº„É´„ÄÅËÇùÊ©üËÉΩ„ÄÅBMI„ÄÅ„Åô„Åπ„Å¶Ê≠£Â∏∏ÁØÑÂõ≤ÂÜÖ„Å´Âèé„Åæ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇÁ¥†Êô¥„Çâ„Åó„ÅÑ„Åß„Åô„Å≠ÔºÅ</p>
                        <p class="mb-3">„Åü„Å†„ÄÅ1ÁÇπ„Å†„ÅëÊ∞ó„Çí„Å§„Åë„Åü„ÅÑÈ†ÖÁõÆ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åù„Çå„Åå„ÄåË°ÄÁ≥ñÂÄ§„Äç„Åß„Åô„ÄÇ</p>
                        <p class="mb-3">‰ªäÂπ¥„ÅÆË°ÄÁ≥ñÂÄ§„ÅØ105 mg/dL„Åß„ÄÅÂü∫Ê∫ñÂÄ§„ÅÆ100 mg/dL„ÇíÂ∞ë„Åó„Å†„ÅëË∂Ö„Åà„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
                        <p class="mb-3">„Åß„ÇÇÂøÉÈÖç„Åó„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ„Å≠„ÄÇ„Åì„Çå„ÅØ„Äå„ÇÑ„ÇÑÈ´ò„ÇÅ„Äç„Å®„ÅÑ„ÅÜÁ®ãÂ∫¶„Åß„ÄÅ‰ªä„Åã„ÇâÊ∞ó„Çí„Å§„Åë„Çå„Å∞ÂçÅÂàÜÊîπÂñÑ„Åß„Åç„Çã„É¨„Éô„É´„Åß„Åô„ÄÇ</p>
                        <p>Ê¨°„ÅÆÁ´†„Åß„ÄÅË°ÄÁ≥ñÂÄ§„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèË™¨Êòé„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„Å≠„ÄÇ</p>
                    </div>
                </div>
            </div>
            
            <!-- „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥ -->
            <div class="mb-6">
                <h3 class="text-lg font-bold mb-4 text-gray-800">Ê¨°„ÅÆ„Çπ„ÉÜ„ÉÉ„Éó</h3>
                <div class="grid grid-cols-1 gap-3">
                    <button class="action-button text-white" style="background: #4A90E2;">
                        üéØ ÁõÆÊ®ô„ÇíË®≠ÂÆö„Åô„Çã
                    </button>
                    <button class="action-button text-white" style="background: #50C878;">
                        üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ÂÆ∂Êóè„Å´ÂÖ±Êúâ„Åô„Çã
                    </button>
                    <button class="action-button" style="background: white; color: #4A90E2; border: 2px solid #4A90E2;">
                        üí¨ AIÁõ∏Ë´á„Åô„Çã
                    </button>
                </div>
            </div>
            
            <!-- Ë¶ñËÅ¥ÂÆå‰∫Ü„Éê„ÉÉ„Ç∏ -->
            <div class="badge" id="completionBadge">
                <div class="text-6xl mb-4">üèÜ</div>
                <h3 class="text-2xl font-bold text-white mb-2">ÂÅ•Â∫∑Ë®∫Êñ≠Ëß£Ë™¨ Ë¶ñËÅ¥ÂÆå‰∫ÜÔºÅ</h3>
                <p class="text-white">Ê¨°„ÅÆ„Çπ„ÉÜ„ÉÉ„ÉóÔºöÁõÆÊ®ôË®≠ÂÆö„Çí„Åó„Åæ„Åó„Çá„ÅÜ</p>
            </div>
        </div>
    </div>

    <script>
        // ÂãïÁîª„Éá„Éº„Çø
        const chapters = [
            {
                id: 1,
                title: "Á∑èÂêàË©ï‰æ°",
                duration: 120,
                speeches: [
                    "„Åì„Çì„Å´„Å°„ÅØÔºÅ‰ªäÂπ¥„ÅÆÂÅ•Â∫∑Ë®∫Êñ≠ÁµêÊûú„Çí‰∏ÄÁ∑í„Å´Ë¶ã„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜüòä",
                    "„Åæ„ÅöÂÖ®‰ΩìÁöÑ„Å™Ë©ï‰æ°„Åß„Åô„Åå„ÄÅ„Å®„Å¶„ÇÇËâØÂ•Ω„Åß„ÅôÔºÅ",
                    "Â§ß„Åç„Å™ÂïèÈ°å„ÅØË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÅÆ„Åß„ÄÅÂÆâÂøÉ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„Å≠‚ú®",
                    "Ë°ÄÂúß„ÄÅ„Ç≥„É¨„Çπ„ÉÜ„É≠„Éº„É´„ÄÅËÇùÊ©üËÉΩ„ÄÅBMI„ÄÅ„Åô„Åπ„Å¶Ê≠£Â∏∏ÁØÑÂõ≤ÂÜÖ„Åß„Åô",
                    "„Åü„Å†„ÄÅ1ÁÇπ„Å†„ÅëÊ∞ó„Çí„Å§„Åë„Åü„ÅÑÈ†ÖÁõÆ„Åå„ÅÇ„Çä„Åæ„Åôü§î",
                    "„Åù„Çå„Åå„ÄåË°ÄÁ≥ñÂÄ§„Äç„Åß„Åô„ÄÇÊ¨°„ÅÆÁ´†„ÅßË©≥„Åó„ÅèË™¨Êòé„Åó„Åæ„Åô„Å≠"
                ]
            },
            {
                id: 2,
                title: "Ë°ÄÁ≥ñÂÄ§„Å´„Å§„ÅÑ„Å¶",
                duration: 195,
                speeches: [
                    "Ë°ÄÁ≥ñÂÄ§„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèË¶ã„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜüç¨",
                    "‰ªäÂπ¥„ÅÆË°ÄÁ≥ñÂÄ§„ÅØ105 mg/dL„Åß„ÄÅÂü∫Ê∫ñÂÄ§„ÇíÂ∞ë„ÅóË∂Ö„Åà„Å¶„ÅÑ„Åæ„Åô",
                    "„Åß„ÇÇÂøÉÈÖç„Åó„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑÔºÅÊîπÂñÑ„Åß„Åç„Çã„É¨„Éô„É´„Åß„Åôüí™",
                    "Áîò„ÅÑ„ÇÇ„ÅÆ„ÇíÊéß„Åà„ÇÅ„Å´„Åó„Å¶„ÄÅÈÅãÂãï„ÇíÁ∂ö„Åë„Çã„Åì„Å®„ÅåÂ§ßÂàá„Åß„Åô"
                ]
            },
            {
                id: 3,
                title: "ÊîπÂñÑÊñπÊ≥ï",
                duration: 150,
                speeches: [
                    "ÁÑ°ÁêÜ„Å™„ÅèÁ∂ö„Åë„Çâ„Çå„ÇãÊîπÂñÑÊñπÊ≥ï„Çí„Åä‰ºù„Åà„Åó„Åæ„Åôüí°",
                    "ÈÄ±2Âõû„ÅÆ„Ç¶„Ç©„Éº„Ç≠„É≥„Ç∞„Åã„ÇâÂßã„ÇÅ„Å¶„Åø„Åæ„Åó„Çá„ÅÜüö∂",
                    "È£ü‰∫ã„Åß„ÅØÈáéËèú„ÇíÂ§ö„ÇÅ„Å´Âèñ„Çä„ÄÅÁîò„ÅÑ„ÇÇ„ÅÆ„ÅØÊéß„Åà„ÇÅ„Å´",
                    "Â∞è„Åï„Å™Â§âÂåñ„ÅÆÁ©ç„ÅøÈáç„Å≠„ÅåÂ§ßÂàá„Åß„Åô‚ú®"
                ]
            },
            {
                id: 4,
                title: "ÂÆ∂Êóè„ÅÆ„Çµ„Éù„Éº„Éà",
                duration: 105,
                speeches: [
                    "ÂÆ∂Êóè„ÅÆ„Çµ„Éù„Éº„Éà„Åå„Å®„Å¶„ÇÇÈáçË¶Å„Åß„Åôü§ù",
                    "‰∏ÄÁ∑í„Å´„Ç¶„Ç©„Éº„Ç≠„É≥„Ç∞„Çí„Åó„Åü„Çä„ÄÅÂÅ•Â∫∑ÁöÑ„Å™È£ü‰∫ã„Çí‰Ωú„Å£„Åü„Çä",
                    "„Åä‰∫í„ÅÑ„Å´Âä±„Åæ„ÅóÂêà„ÅÜ„Åì„Å®„Åß„ÄÅÁ∂ö„Åë„ÇÑ„Åô„Åè„Å™„Çä„Åæ„Åôüòä",
                    "„Åø„Çì„Å™„ÅßÂÅ•Â∫∑„Å´„Å™„Å£„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜÔºÅ"
                ]
            }
        ];
        
        let isPlaying = false;
        let currentChapter = 1;
        let currentSpeechIndex = 0;
        let currentTime = 0;
        let totalDuration = chapters.reduce((sum, chapter) => sum + chapter.duration, 0);
        let playInterval;
        let speechInterval;
        
        // Ë¶ÅÁ¥†„ÅÆÂèñÂæó
        const playButton = document.getElementById('playButton');
        const playIcon = document.getElementById('playIcon');
        const progressFill = document.getElementById('progressFill');
        const currentTimeEl = document.getElementById('currentTime');
        const speechText = document.getElementById('speechText');
        const subtitleText = document.getElementById('subtitleText');
        const subtitle = document.getElementById('subtitle');
        const aiAvatar = document.getElementById('aiAvatar');
        const completionBadge = document.getElementById('completionBadge');
        
        // ÂÜçÁîü/‰∏ÄÊôÇÂÅúÊ≠¢
        playButton.addEventListener('click', () => {
            if (isPlaying) {
                pauseVideo();
            } else {
                playVideo();
            }
        });
        
        function playVideo() {
            isPlaying = true;
            playIcon.className = 'fas fa-pause';
            
            // ÈÄ≤ÊçóÊõ¥Êñ∞
            playInterval = setInterval(() => {
                currentTime++;
                updateProgress();
                
                if (currentTime >= totalDuration) {
                    completeVideo();
                }
            }, 1000);
            
            // Èü≥Â£∞Êõ¥Êñ∞
            updateSpeech();
            speechInterval = setInterval(updateSpeech, 3000);
        }
        
        function pauseVideo() {
            isPlaying = false;
            playIcon.className = 'fas fa-play';
            clearInterval(playInterval);
            clearInterval(speechInterval);
        }
        
        function updateProgress() {
            const progress = (currentTime / totalDuration) * 100;
            progressFill.style.width = progress + '%';
            currentTimeEl.textContent = formatTime(currentTime);
        }
        
        function updateSpeech() {
            const chapter = chapters[currentChapter - 1];
            const speech = chapter.speeches[currentSpeechIndex];
            
            if (speech) {
                speechText.textContent = speech;
                subtitleText.textContent = speech;
                
                // „Ç¢„Éê„Çø„Éº„ÅÆË°®ÊÉÖÂ§âÊõ¥
                const emotions = ['ü§ñ', 'üòä', 'ü§î', 'üí°', '‚ú®'];
                aiAvatar.textContent = emotions[Math.floor(Math.random() * emotions.length)];
                
                currentSpeechIndex++;
                if (currentSpeechIndex >= chapter.speeches.length) {
                    // Ê¨°„ÅÆ„ÉÅ„É£„Éó„Çø„Éº„Å∏
                    if (currentChapter < chapters.length) {
                        currentChapter++;
                        currentSpeechIndex = 0;
                        updateChapterDisplay();
                    }
                }
            }
        }
        
        function updateChapterDisplay() {
            // „ÉÅ„É£„Éó„Çø„Éº„Ç´„Éº„Éâ„ÅÆÊõ¥Êñ∞
            document.querySelectorAll('.chapter-card').forEach((card, index) => {
                card.classList.remove('active');
                if (index + 1 === currentChapter) {
                    card.classList.add('active');
                }
            });
        }
        
        function completeVideo() {
            pauseVideo();
            completionBadge.style.display = 'block';
            
            // „Ç≠„É©„Ç≠„É©„Ç®„Éï„Çß„ÇØ„Éà
            setTimeout(() => {
                completionBadge.style.animation = 'scaleIn 0.5s ease-out, pulse 2s infinite';
            }, 500);
        }
        
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }
        
        // „ÉÅ„É£„Éó„Çø„ÉºÈÅ∏Êäû
        document.querySelectorAll('.chapter-card').forEach((card, index) => {
            card.addEventListener('click', () => {
                currentChapter = index + 1;
                currentSpeechIndex = 0;
                
                // Ë©≤ÂΩì„ÉÅ„É£„Éó„Çø„Éº„ÅÆÈñãÂßãÊôÇÈñì„ÇíË®àÁÆó
                let chapterStartTime = 0;
                for (let i = 0; i < index; i++) {
                    chapterStartTime += chapters[i].duration;
                }
                currentTime = chapterStartTime;
                
                updateProgress();
                updateChapterDisplay();
                updateSpeech();
            });
        });
        
        // Â≠óÂπïON/OFF
        document.getElementById('subtitleToggle').addEventListener('click', (e) => {
            if (subtitle.style.display === 'none') {
                subtitle.style.display = 'block';
                e.target.textContent = 'Â≠óÂπïOFF';
                e.target.classList.add('bg-blue-500', 'text-white');
                e.target.classList.remove('bg-gray-200');
            } else {
                subtitle.style.display = 'none';
                e.target.textContent = 'Â≠óÂπïON';
                e.target.classList.remove('bg-blue-500', 'text-white');
                e.target.classList.add('bg-gray-200');
            }
        });
        
        // Ëß£Ë™¨„ÉÜ„Ç≠„Çπ„ÉàÂ±ïÈñã/Êäò„Çä„Åü„Åü„Åø
        function toggleScript() {
            const content = document.getElementById('scriptContent');
            const icon = document.getElementById('scriptToggleIcon');
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                icon.className = 'fas fa-chevron-down';
            } else {
                content.classList.add('expanded');
                icon.className = 'fas fa-chevron-up';
            }
        }
        
        // „É°„É¢Ê©üËÉΩ
        function addMemo(chapterNumber) {
            const memo = prompt(`„ÉÅ„É£„Éó„Çø„Éº${chapterNumber}„Å´„Å§„ÅÑ„Å¶„ÅÆ„É°„É¢:`, '');
            if (memo) {
                localStorage.setItem(`memo_chapter_${chapterNumber}`, memo);
                alert('„É°„É¢„Çí‰øùÂ≠ò„Åó„Åæ„Åó„ÅüÔºÅ');
            }
        }
        
        // ÂàùÊúüË®≠ÂÆö
        document.getElementById('duration').textContent = formatTime(totalDuration);
        updateChapterDisplay();
        
        // „Ç¢„Éê„Çø„Éº„Çí„ÇØ„É™„ÉÉ„ÇØ„ÅßÂÜçÁîü/‰∏ÄÊôÇÂÅúÊ≠¢
        aiAvatar.addEventListener('click', () => {
            playButton.click();
        });
    </script>

    <!-- Footer Navigation -->
    <div class="footer-nav">
        <div class="nav-item" onclick="window.location.href='00_group_timeline.html'">
            <i class="fas fa-home"></i>
            <span>„Éõ„Éº„É†</span>
        </div>
        <div class="nav-item" onclick="window.location.href='02_my_progress.html'">
            <i class="fas fa-chart-bar"></i>
            <span>ÈÄ≤Êçó</span>
        </div>
        <div class="nav-item">
            <div class="create-btn" onclick="window.open('01_post_creation.html', '_blank')">
                <i class="fas fa-plus"></i>
            </div>
        </div>
        <div class="nav-item" onclick="window.location.href='12_ai_consultation.html'">
            <i class="fas fa-robot"></i>
            <span>AIÁõ∏Ë´á</span>
        </div>
        <div class="nav-item" onclick="window.location.href='13_settings.html'">
            <i class="fas fa-cog"></i>
            <span>„É°„Éã„É•„Éº</span>
        </div>
    </div>

</body>
</html>